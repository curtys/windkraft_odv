function CHtoWGSlat(d,a){var b=(d-600000)/1000000;var c=(a-200000)/1000000;lat=16.9023892+3.238272*c-0.270978*Math.pow(b,2)-0.002528*Math.pow(c,2)-0.0447*Math.pow(b,2)*c-0.014*Math.pow(c,3);lat=lat*100/36;return lat}function CHtoWGSlng(d,a){var b=(d-600000)/1000000;var c=(a-200000)/1000000;lng=2.6779094+4.728982*b+0.791484*b*c+0.1306*b*Math.pow(c,2)-0.0436*Math.pow(b,3);lng=lng*100/36;return lng}window.addEventListener("load",function(){var o=700000,n=1200000,m=5750000,l=6050000;var e=CHtoWGSlng(670000,160000);var s=CHtoWGSlat(670000,160000);var f=new ol.layer.Vector({source:new ol.source.Vector({url:"data/map/g1k15.kml",format:new ol.format.KML({extractStyles:false})}),style:new ol.style.Style({stroke:new ol.style.Stroke({color:"#3399CC",width:2.5})})});var b=new ol.layer.Vector({source:new ol.source.Vector({url:"data/map/g1l15.kml",format:new ol.format.KML({extractStyles:false})}),style:new ol.style.Style({stroke:new ol.style.Stroke({color:"#AF6BFF",width:4})})});var a=ga.layer.create("ch.bfe.windenergieanlagen");var h=ga.layer.create("ch.bfe.statistik-wasserkraftanlagen");var d=ga.layer.create("ch.bfe.kernkraftwerke");a.setVisible(false);h.setVisible(false);d.setVisible(true);var r=new ol.Map({target:"map",layers:[new ol.layer.Tile({source:new ol.source.Stamen({layer:"toner-background"})}),b,f,a,h,d],view:new ol.View({center:ol.proj.fromLonLat([e,s]),resolution:350,maxResolution:400,minResolution:200,extent:[o,m,n,l]})});var j={};var g=new ol.FeatureOverlay({map:r,style:function(t,i){var u="";if(!j[u]){j[u]=[new ol.style.Style({stroke:new ol.style.Stroke({color:"#f00",width:3}),fill:new ol.style.Fill({color:"rgba(255,0,0,0.1)"}),text:new ol.style.Text({font:"12px Calibri,sans-serif",text:u,fill:new ol.style.Fill({color:"#000"}),stroke:new ol.style.Stroke({color:"#f00",width:3})})})]}return j[u]}});var c;var p=function(t){var u=r.forEachFeatureAtPixel(t,function(w,v){return w});var i=document.getElementById("featureName");if(u){i.innerHTML=u.get("name")}else{i.innerHTML="&nbsp;"}if(u!==c){if(c){g.removeFeature(c)}if(u){g.addFeature(u)}c=u}};r.on("pointermove",function(i){if(i.dragging){return}var t=r.getEventPixel(i.originalEvent);p(t)});r.on("click",function(i){p(i.pixel)});var q=document.querySelectorAll("#select input");for(var k=0;k<q.length;k++){q[k].addEventListener("change",function(){var i=this.getAttribute("name");var t;switch(i){case"wind":t=a;break;case"wasser":t=h;break;case"kern":t=d;break;default:return}if(this.checked){t.setVisible(true)}else{t.setVisible(false)}})}});